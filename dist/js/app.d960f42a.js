(function(e){function t(t){for(var o,c,s=t[0],r=t[1],l=t[2],_=0,u=[];_<s.length;_++)c=s[_],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&u.push(i[c][0]),i[c]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},a=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=r;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var o=n("64a9"),i=n.n(o);i.a},1:function(e,t){},"13fc":function(e,t,n){},"153b":function(e,t,n){"use strict";var o=n("4ce5"),i=n.n(o);i.a},"18cf":function(e,t,n){"use strict";var o=n("ae6a"),i=n.n(o);i.a},"2ba9":function(e,t,n){"use strict";var o=n("abeb"),i=n.n(o);i.a},"2cbd":function(e,t,n){"use strict";var o=n("9da6"),i=n.n(o);i.a},3314:function(e,t,n){"use strict";var o=n("e18c"),i=n.n(o);i.a},"429e":function(e,t,n){"use strict";var o=n("af21"),i=n.n(o);i.a},"4ce5":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("AppTemplate",{attrs:{applicationName:"SHCP"}})],1)},a=[],c=n("573d"),s={name:"App",components:{AppTemplate:c["a"]},methods:{},sockets:{connect:function(){console.log("[WS] Connected"),this.$store.commit("set_connected",!0);var e=this.$cookies.get("jwt");if(!e&&"/login"!==this.$route.path)return console.log("[Auth] JWT is NOT present in cookies"),window.location.href="https://authentication.maximemoreillon.com/";console.log("[Auth] JWT is present in cookies"),this.$socket.client.emit("authentication",{jwt:e}),this.$store.commit("set_authenticating",!0)},unauthorized:function(e){return console.log(e),window.location.href="https://authentication.maximemoreillon.com/"},authenticated:function(e){console.log("[WS] Authenticated"),"jwt"in e&&(console.log("[Auth] Received a JWT, storing in cookies"),this.$cookies.set("jwt",e.jwt)),this.$store.commit("set_authenticating",!1),this.$socket.client.emit("get_all_devices_from_back_end",{}),this.$store.commit("set_devices_loading",!0)},disconnect:function(){console.log("[WS] disconnected"),this.$store.commit("set_connected",!1)},add_or_update_some_in_front_end:function(e){console.log("[WS] add_or_update_some_in_front_end"),this.$store.commit("add_or_update_some_devices",e)},delete_and_create_all_in_front_end:function(e){console.log("[WS] delete_and_create_all_in_front_end"),this.$store.commit("delete_all_devices",e),this.$store.commit("add_or_update_some_devices",e),this.$store.commit("set_devices_loading",!1)},delete_some_in_front_end:function(e){console.log("[WS] delete_some_in_front_end"),this.$store.commit("delete_some_devices",e)}}},r=s,l=(n("034f"),n("2877")),d=Object(l["a"])(r,i,a,!1,null,null,null),_=d.exports,u=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("pencil-icon",{staticClass:"new_devices_area_open_button",on:{click:function(t){return e.$store.commit("set_edit_mode",!0)}}}),n("div",{staticClass:"new_device_area_wrapper",class:{open:e.$store.state.edit_mode}},[n("pencil-off-icon",{staticClass:"new_devices_area_close_button",on:{click:function(t){return e.$store.commit("set_edit_mode",!1)}}}),n("div",{staticClass:"divider"}),n("NewDeviceIcon",{attrs:{component:"Light"}},[n("lightbulb-icon")],1),n("NewDeviceIcon",{attrs:{component:"Fan"}},[n("fan-icon")],1),n("NewDeviceIcon",{attrs:{component:"ac"}},[n("air-conditioner-icon")],1),n("NewDeviceIcon",{attrs:{component:"Heater"}},[n("radiator-icon")],1),n("NewDeviceIcon",{attrs:{component:"Sensor"}},[n("gauge-icon")],1),n("NewDeviceIcon",{attrs:{component:"Camera"}},[n("cctv-icon")],1),n("div",{staticClass:"divider"}),n("image-edit-icon",{staticClass:"new_devices_area_close_button",on:{click:function(t){e.floorplan_upload_modal_open=!0}}})],1),n("drop",{staticClass:"floorplan_wrapper",on:{drop:e.drop,dragenter:e.dragenter}},[n("img",{ref:"floorplan",staticClass:"floorplan droptarget",class:{loading:e.$store.state.devices_loading},style:e.floorplan_size,attrs:{id:"floorplan",alt:"floorplan",src:"https://shcp.maximemoreillon.com/floorplan"},on:{click:function(t){return e.floorplan_clicked(t)},contextmenu:function(t){return t.preventDefault(),e.$store.commit("set_edit_mode",!0)}}}),e._l(e.$store.state.devices,(function(e,t){return n(e.type,{key:e._id,tag:"component",attrs:{device:e}})})),n("transition",{attrs:{name:"fade"}},[e.$store.state.devices_loading?n("span",{staticClass:"devices_loader"}):e._e()])],2),n("DisconnectionWarning"),n("Modal",{attrs:{open:e.floorplan_upload_modal_open},on:{close_modal:function(t){e.floorplan_upload_modal_open=!1}}},[n("input",{ref:"floorplan_upload",attrs:{type:"file"}}),n("button",{attrs:{type:"button"},on:{click:function(t){return e.floorplan_upload()}}},[e._v("upload")])])],1)},m=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,form_fields:e.form_fields},on:{icon_clicked:function(t){return e.toggle()}},scopedSlots:e._u([{key:"icon",fn:function(){return[n("lightbulb-icon")]},proxy:!0}])})},v=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"device_wrapper"},[n("DeviceIcon",{attrs:{id:e.device._id,device:e.device},on:{icon_clicked:function(t){return e.icon_clicked()},icon_right_clicked:function(t){return e.icon_right_clicked()}},scopedSlots:e._u([{key:"icon",fn:function(){return[e._t("icon")]},proxy:!0}],null,!0)}),n("Modal",{attrs:{open:e.edit_modal_open},on:{close_modal:function(t){return e.close_edit_modal()}}},[n("table",{staticClass:"device_properties_table"},e._l(e.form_fields,(function(t){return n("tr",[n("td",[e._v(e._s(t.label))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.device[t.key],expression:"device[form_field.key]"}],attrs:{type:"text"},domProps:{value:e.device[t.key]},on:{input:function(n){n.target.composing||e.$set(e.device,t.key,n.target.value)}}})])])})),0),n("div",{staticClass:"buttons_container"},[n("content-save-icon",{on:{click:function(t){return e.edit_device_in_back_end()}}}),n("delete-icon",{on:{click:function(t){return e.delete_device_in_back_end()}}})],1)]),e._t("default")],2)},g=[],b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",class:{open:e.open},on:{click:function(t){return t.target!==t.currentTarget?null:e.close_modal(t)}}},[n("div",{staticClass:"modal_window_outer"},[n("div",{staticClass:"modal_window_inner"},[e._t("default")],2)])])},y=[],k={name:"Modal",props:{open:{type:Boolean,default:!1}},methods:{close_modal:function(){this.$emit("close_modal")}}},w=k,$=(n("429e"),Object(l["a"])(w,b,y,!1,null,"15431ffc",null)),O=$.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag",{staticClass:"device_icon_wrapper",style:{left:e.device.position.x+"%",top:e.device.position.y+"%"},attrs:{"transfer-data":e.transfer_data}},[n("div",{staticClass:"device_icon",class:{on:e.device_is_on,loading:e.device.loading},attrs:{id:e.device._id},on:{click:function(t){return e.$emit("icon_clicked")},contextmenu:function(t){return t.preventDefault(),e.$emit("icon_right_clicked")}}},[e._t("icon"),this.$slots.icon?e._e():n("help-icon"),n("transition",{attrs:{name:"fade"}},[e.device_disconnected?n("wifi-off-icon",{staticClass:"icon_badge warning_badge"}):e._e()],1),n("transition",{attrs:{name:"fade"}},[this.$store.state.edit_mode?n("pencil-icon",{staticClass:"icon_badge edit_badge"}):e._e()],1),n("transition",{attrs:{name:"fade"}},[e.device.loading?n("loading-icon",{staticClass:"icon_badge loading_badge"}):e._e()],1)],2)])},x=[],S=n("ea61"),j=n("c967"),E=n("d902"),I=n("59dc"),N={name:"DeviceIcon",props:{device:{type:Object,required:!0},icon_class:{}},components:{HelpIcon:S["a"],PencilIcon:E["a"],WifiOffIcon:j["a"],LoadingIcon:I["a"]},methods:{},computed:{device_is_on:function(){return!(!this.device.state||!this.device.payload_on||this.device.state!==this.device.payload_on)},device_disconnected:function(){var e=null;try{return e=JSON.parse(this.device.state),"disconnected"===e.state}catch(t){return!1}},transfer_data:function(){return{action:"update",data:this.device}}}},D=N,P=(n("7b8e"),Object(l["a"])(D,C,x,!1,null,"05cea861",null)),R=P.exports,A=n("0fc3"),L=n("0647"),T={name:"Device",mixins:[],components:{Modal:O,DeviceIcon:R,DeleteIcon:L["a"],ContentSaveIcon:A["a"]},props:{device:{type:Object,required:!0},form_fields:{type:Array,default:function(){return[]}}},data:function(){return{edit_modal_open:!1}},methods:{icon_clicked:function(){this.$store.state.edit_mode?this.open_edit_modal():this.$emit("icon_clicked")},icon_right_clicked:function(){this.$store.commit("toggle_edit_mode")},open_edit_modal:function(){this.edit_modal_open=!0},close_edit_modal:function(){this.edit_modal_open=!1},edit_device_in_back_end:function(){console.log("[WS] edit_one_device_in_back_end"),this.$socket.client.emit("edit_one_device_in_back_end",this.device),this.close_edit_modal(),this.$set(this.device,"loading",!0)},delete_device_in_back_end:function(){confirm("Really?")&&(console.log("[WS] delete_one_device_in_back_end"),this.$socket.client.emit("delete_one_device_in_back_end",this.device),this.close_edit_modal(),this.$set(this.device,"loading",!0))}}},W=T,F=(n("2cbd"),Object(l["a"])(W,h,g,!1,null,"a3df1444",null)),U=F.exports,z={components:{Device:U},data:function(){return{}},props:{device:{type:Object,required:!0}}},M={methods:{toggle:function(){var e={};e.command_topic=this.device.command_topic,this.device.state==this.device.payload_on?e.payload=this.device.payload_off:e.payload=this.device.payload_on,console.log("[WS] toggle_device_state"),this.$socket.client.emit("front_to_mqtt",e),this.$set(this.device,"loading",!0)}}},V=n("9752"),J={name:"Light",mixins:[z,M],components:{LightbulbIcon:V["a"]},data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}}},q=J,H=Object(l["a"])(q,p,v,!1,null,"e49f4ca6",null),B=H.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,form_fields:e.form_fields},on:{icon_clicked:e.toggle},scopedSlots:e._u([{key:"icon",fn:function(){return[n("air-conditioner-icon")]},proxy:!0}])})},G=[],X=n("db03"),Y={name:"ac",mixins:[z,M],components:{AirConditionerIcon:X["a"]},props:{device:{type:Object,required:!0}},data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}}},Q=Y,Z=Object(l["a"])(Q,K,G,!1,null,"6f254b4e",null),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class,form_fields:e.form_fields},on:{icon_clicked:e.toggle},scopedSlots:e._u([{key:"icon",fn:function(){return[n("radiator-icon")]},proxy:!0}])})},ne=[],oe=n("b456"),ie={name:"Heater",mixins:[z,M],components:{RadiatorIcon:oe["a"]},props:{device:{type:Object,required:!0}},data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}},computed:{icon_class:function(){return this.device.state&&this.device.payload_on&&this.device.state===this.device.payload_on?"on":""}}},ae=ie,ce=Object(l["a"])(ae,te,ne,!1,null,"1bf22e7e",null),se=ce.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,form_fields:e.form_fields},on:{icon_clicked:function(t){return e.open_modal()}},scopedSlots:e._u([{key:"icon",fn:function(){return[e.icon_additional_content?n("span",[e._v(e._s(e.icon_additional_content))]):n("gauge-icon")]},proxy:!0}])},[n("Modal",{attrs:{open:e.modal_open},on:{close_modal:function(t){return e.close_modal()}}},[n("div",{staticClass:"sensor_modal_wrapper"},[n("div",{staticClass:"sensor_modal_title"},[e._v("\n        "+e._s(e.device.measurement_name)+"\n      ")]),this.device.json_key&&this.device.state?n("div",{staticClass:"sensor_modal_content"},[e._v("\n        "+e._s(JSON.parse(e.device.state.replace(/'/g,'"'))[e.device.json_key])+" "+e._s(e.device.unit)+"\n      ")]):n("div",{staticClass:"sensor_modal_content"},[e._v("\n        "+e._s(e.device.state)+"\n      ")])])])],1)},le=[],de=(n("a481"),{components:{Modal:O},methods:{open_modal:function(){this.modal_open=!0,this.camera_image_url="/camera?_id="+this.device._id},close_modal:function(){this.modal_open=!1,this.camera_image_url="images/devices/cctv.svg"}}}),_e=n("394b"),ue={name:"Sensor",mixins:[z,de],components:{GaugeIcon:_e["a"]},data:function(){return{form_fields:[{key:"measurement_name",label:"Measurement name"},{key:"status_topic",label:"Status topic"},{key:"json_key",label:"JSON key"},{key:"unit",label:"Unit"}],modal_open:!1}},computed:{icon_additional_content:function(){return this.device.json_key&&this.device.state&&JSON.parse(this.device.state.replace(/'/g,'"'))[this.device.json_key]?JSON.parse(this.device.state.replace(/'/g,'"'))[this.device.json_key]+this.device.unit:""}}},fe=ue,me=(n("d706"),Object(l["a"])(fe,re,le,!1,null,"bb5eb3d6",null)),pe=me.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,form_fields:e.form_fields},on:{icon_clicked:function(t){return e.open_modal()}},scopedSlots:e._u([{key:"icon",fn:function(){return[n("cctv-icon")]},proxy:!0}])},[n("Modal",{attrs:{open:e.modal_open},on:{close_modal:function(t){return e.close_modal()}}},[n("div",{staticClass:"camera_image_wrapper"},[e.camera_image_url?n("img",{staticClass:"camera_image",attrs:{src:e.camera_image_url}}):n("span",{staticClass:"mdi mdi-cctv"})])])],1)},he=[],ge=n("5ed5"),be={name:"Camera",mixins:[de,z],components:{CctvIcon:ge["a"]},data:function(){return{form_fields:[{key:"stream_url",label:"Stream URL"}],modal_open:!1,camera_image_url:null}},methods:{open_modal:function(){this.modal_open=!0,Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKETIO_SERVER_URL?this.camera_image_url="".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKETIO_SERVER_URL,"/camera?_id=").concat(this.device._id,"&jwt=").concat(this.$cookies.get("jwt")):this.camera_image_url="camera?_id".concat(this.device._id,"&jwt=").concat(this.$cookies.get("jwt"))},close_modal:function(){this.modal_open=!1,this.camera_image_url=null}}},ye=be,ke=(n("f2a2"),Object(l["a"])(ye,ve,he,!1,null,"bab51d5e",null)),we=ke.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,form_fields:e.form_fields},on:{icon_clicked:function(t){return e.toggle()}},scopedSlots:e._u([{key:"icon",fn:function(){return[n("fan-icon")]},proxy:!0}])})},Oe=[],Ce=n("f483"),xe={name:"Fan",mixins:[z,M],components:{FanIcon:Ce["a"]},data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}}},Se=xe,je=Object(l["a"])(Se,$e,Oe,!1,null,"4ec77cce",null),Ee=je.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag",{staticClass:"device_icon",attrs:{"transfer-data":e.transfer_data}},[e._t("default")],2)},Ne=[],De={name:"NewDeviceIcon",props:{component:String},methods:{},computed:{transfer_data:function(){return{action:"create",data:{component:this.component}}}}},Pe=De,Re=(n("68a6"),Object(l["a"])(Pe,Ie,Ne,!1,null,"751b972c",null)),Ae=Re.exports,Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enabled?n("div",{staticClass:"disconnection_warning",class:{open:!e.$store.state.connected}},[n("alert-outline-icon",{staticClass:"warning_icon"}),n("span",{staticClass:"warning_text"},[e._v("DISCONNECTED")])],1):e._e()},Te=[],We=n("f93a"),Fe={name:"DisconnectionWarning",components:{AlertOutlineIcon:We["a"]},data:function(){return{enabled:!1}},mounted:function(){var e=this;setTimeout((function(){e.enabled=!0}),1e3)},computed:{}},Ue=Fe,ze=(n("2ba9"),Object(l["a"])(Ue,Le,Te,!1,null,"14372c7c",null)),Me=ze.exports,Ve=n("575f"),Je=n("5fda"),qe={name:"home",data:function(){return{floorplan_upload_modal_open:!1,floorplan_size:{width:void 0,height:void 0}}},components:{Light:B,Camera:we,Sensor:pe,Heater:se,ac:ee,Fan:Ee,NewDeviceIcon:Ae,DisconnectionWarning:Me,Modal:O,PencilIcon:E["a"],PencilOffIcon:Ve["a"],LightbulbIcon:V["a"],RadiatorIcon:oe["a"],FanIcon:Ce["a"],AirConditionerIcon:X["a"],GaugeIcon:_e["a"],CctvIcon:ge["a"],ImageEditIcon:Je["a"]},mounted:function(){var e=this;this.compute_floorplan_size(),window.onresize=function(){e.compute_floorplan_size()},window.onload=function(){e.compute_floorplan_size()}},methods:{compute_floorplan_size:function(){var e=this.$refs.floorplan.naturalWidth,t=this.$refs.floorplan.naturalHeight,n=window.innerHeight-250,o=window.innerWidth-130,i=o/e,a=n/t;a<i?(this.floorplan_size.height=t*a+"px",this.floorplan_size.width=void 0):(this.floorplan_size.height=void 0,this.floorplan_size.width=e*i+"px")},floorplan_clicked:function(e){this.$store.state.edit_mode&&this.$store.commit("set_edit_mode",!1)},dragenter:function(){},drop:function(e,t){if("floorplan"===t.target.id){var n={x:100*t.offsetX/t.target.width,y:100*t.offsetY/t.target.height};if("create"===e.action)this.$socket.client.emit("add_one_device_in_back_end",{_id:"new",position:n,type:e.data.component});else if("update"===e.action&&this.$store.state.edit_mode){var o=e.data;o.position=n,this.$socket.client.emit("edit_one_device_in_back_end",o),this.$set(o,"loading",!0)}}else t.target.id===e.data._id&&this.$store.commit("set_edit_mode",!0)},floorplan_upload:function(){var e=this;if(this.image=this.$refs.floorplan_upload.files[0],this.image){var t=new FormData;t.append("image",this.image),this.axios.post("https://shcp.maximemoreillon.com/floorplan_upload",t,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$cookies.get("jwt")}}).then((function(t){return e.$router.go()})).catch((function(e){return console.log(e)}))}}}},He=qe,Be=(n("153b"),Object(l["a"])(He,f,m,!1,null,"04240d9b",null)),Ke=Be.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_view"},[e.$store.state.authenticating?n("div",{staticClass:"status_message"},[n("div",{staticClass:"loader"})]):e.$store.state.user?n("form",{staticClass:"login_form",on:{submit:function(t){return t.preventDefault(),e.logout()}}},[n("div",{},[e._v("\n      Logged in as: "+e._s(e.$store.state.user.name_kanji)+"\n    ")]),n("input",{attrs:{type:"submit",value:"logout"}})]):n("form",{staticClass:"login_form",on:{submit:function(t){return t.preventDefault(),e.login()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.username,expression:"credentials.username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.credentials.username},on:{input:function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),n("input",{attrs:{type:"submit",value:"login"}})])])},Xe=[],Ye={name:"Login",components:{},data:function(){return{credentials:{username:"",password:""}}},mounted:function(){},methods:{login:function(){console.log("logging in"),this.$socket.client.emit("authentication",{credentials:{username:this.credentials.username,password:this.credentials.password}})},logout:function(){this.$socket.client.emit("logout",{})}}},Qe=Ye,Ze=(n("18cf"),Object(l["a"])(Qe,Ge,Xe,!1,null,"119017ae",null)),et=Ze.exports,tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"device_list"},e._l(e.$store.state.devices,(function(t){return n("div",{staticClass:"device_wrapper"},[e._l(t,(function(t,o){return n("div",{},[e._v("\n      "+e._s(o)+": "+e._s(t)+"\n\n    ")])})),n("span",{staticClass:"delete_icon",on:{click:function(n){return e.delete_device(t)}}},[e._v("×")])],2)})),0)},nt=[],ot={name:"DeviceList",props:{},computed:{},methods:{delete_device:function(e){confirm("Really?")&&this.$socket.client.emit("delete_one_device_in_back_end",e)}}},it=ot,at=(n("3314"),Object(l["a"])(it,tt,nt,!1,null,"1ee645b6",null)),ct=at.exports,st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"device_details"},[e.device?n("div",{},[e._v("\n    Type: "+e._s(e.device.type)+"\n  ")]):e._e()])},rt=[],lt=(n("7514"),{name:"DeviceDetails",props:{device_id:String},computed:{device:function(){var e=this;return this.$store.state.devices.find((function(t){return t._id===e.$route.query.id}))}}}),dt=lt,_t=Object(l["a"])(dt,st,rt,!1,null,null,null),ut=_t.exports;o["a"].use(u["a"]);var ft=new u["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Ke},{path:"/login",name:"login",component:et},{path:"/device_list",name:"device_list",component:ct},{path:"/device_details",name:"device_details",component:ut}]}),mt=(n("20d6"),n("ac6a"),n("2f62"));o["a"].use(mt["a"]);var pt=new mt["a"].Store({state:{user:null,authenticating:!1,connected:!1,edit_mode:!1,devices_loading:!1,devices:[]},mutations:{set_connected:function(e,t){e.connected=t},set_authenticating:function(e,t){e.authenticating=t},set_edit_mode:function(e,t){e.edit_mode=t},toggle_edit_mode:function(e){e.edit_mode=!e.edit_mode},set_devices_loading:function(e,t){e.devices_loading=t},add_or_update_some_devices:function(e,t){t.forEach((function(t){var n=e.devices.findIndex((function(e){return e._id===t._id}));-1!==n?o["a"].set(e.devices,n,t):e.devices.push(t)}))},delete_some_devices:function(e,t){t.forEach((function(t){var n=e.devices.findIndex((function(e){return e._id===t._id}));-1!==n&&e.devices.splice(n,1)}))},delete_all_devices:function(e){e.devices.splice(0,e.devices.length)}},actions:{}}),vt=n("bc3a"),ht=n.n(vt),gt=n("a7fe"),bt=n.n(gt),yt=n("8055"),kt=n.n(yt),wt=n("f87c"),$t=n("2b27"),Ot=n.n($t),Ct=n("df76"),xt=n.n(Ct);o["a"].use(xt.a);var St=null;St=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKETIO_SERVER_URL?kt()(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_SOCKETIO_SERVER_URL):kt()(),o["a"].use(bt.a,ht.a),o["a"].use(wt["a"],St),o["a"].use(Ot.a),o["a"].$cookies.config("30d"),o["a"].config.productionTip=!1,new o["a"]({router:ft,store:pt,render:function(e){return e(_)}}).$mount("#app")},"64a9":function(e,t,n){},"68a6":function(e,t,n){"use strict";var o=n("13fc"),i=n.n(o);i.a},7234:function(e,t,n){},"7b8e":function(e,t,n){"use strict";var o=n("7234"),i=n.n(o);i.a},"9da6":function(e,t,n){},abeb:function(e,t,n){},ae6a:function(e,t,n){},ae85:function(e,t,n){},af21:function(e,t,n){},b3a0:function(e,t,n){},d706:function(e,t,n){"use strict";var o=n("ae85"),i=n.n(o);i.a},e18c:function(e,t,n){},f2a2:function(e,t,n){"use strict";var o=n("b3a0"),i=n.n(o);i.a}});
//# sourceMappingURL=app.d960f42a.js.map