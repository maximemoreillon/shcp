(function(e){function t(t){for(var i,c,s=t[0],l=t[1],r=t[2],_=0,u=[];_<s.length;_++)c=s[_],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&u.push(o[c][0]),o[c]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(u.length)u.shift()();return a.push.apply(a,r||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var i={},o={app:0},a=[];function c(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=i,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var r=0;r<s.length;r++)t(s[r]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07bf":function(e,t,n){},"0e7e":function(e,t,n){"use strict";var i=n("1b44"),o=n.n(i);o.a},1:function(e,t){},"1b44":function(e,t,n){},"2e26":function(e,t,n){"use strict";var i=n("ed8d"),o=n.n(i);o.a},"357b":function(e,t,n){},3583:function(e,t,n){"use strict";var i=n("357b"),o=n.n(i);o.a},"410b":function(e,t,n){"use strict";var i=n("6b22"),o=n.n(i);o.a},"429e":function(e,t,n){"use strict";var i=n("af21"),o=n.n(i);o.a},5021:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("AppTemplate",{attrs:{applicationName:"SHCP"}})],1)},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"application_wrapper"},[n("header",[e.navigation.length>0?n("span",{staticClass:"mdi navigation_control button",class:e.navigation_control_icon,on:{click:function(t){return e.toggle_navigation()}}}):e._e(),n("img",{staticClass:"rotating_logo",attrs:{src:"https://cdn.maximemoreillon.com/logo/thick/logo.svg",alt:""}}),n("span",{staticClass:"application_name"},[e._v(e._s(e.applicationName))]),e.noLoginControls?e._e():n("span",{staticClass:"mdi mdi-logout aligned_right button",on:{click:function(t){return e.logout()}}})]),e.navigation.length>0?n("nav",{class:{open:e.navigation_open}},e._l(e.navigation,(function(t,i){return n("router-link",{key:i,attrs:{to:t.route}},[n("span",{staticClass:"mdi",class:"mdi-"+t.icon,on:{click:function(t){return e.close_navigation()}}},[e._v("\n        "+e._s(t.label)+"\n      ")])])})),1):e._e(),n("div",{staticClass:"nav_background",class:{visible:e.navigation_open},on:{click:function(t){return e.close_navigation()}}}),n("main",[n("router-view",{staticClass:"router_view"}),n("footer",[n("img",{staticClass:"rotating_logo",attrs:{src:"https://cdn.maximemoreillon.com/logo/thick/logo.svg",alt:""}}),n("div",{staticClass:"application_info"},[n("div",{staticClass:"application_name"},[e._v(e._s(e.applicationName))]),n("div",{staticClass:"author_name"},[e._v("Maxime MOREILLON")])])])],1)])},s=[],l={name:"AppTemplate",props:{applicationName:{type:String},navigation:{type:Array,default:function(){return[]}},slotted:{type:Boolean,default:function(){return!1}},noLoginControls:{type:Boolean,default:function(){return!1}}},data:function(){return{navigation_open:!1}},methods:{toggle_navigation:function(){this.navigation_open=!this.navigation_open},close_navigation:function(){this.navigation_open=!1},logout:function(){this.axios.post("https://authentication.maximemoreillon.com/logout").then((function(){return location.reload()})).catch((function(e){return console.log(e)}))}},computed:{navigation_control_icon:function(){return this.navigation_open?"mdi-backburger":"mdi-menu"}}},r=l,d=(n("2e26"),n("2877")),_=Object(d["a"])(r,c,s,!1,null,null,null),u=_.exports,m={name:"App",components:{AppTemplate:u},methods:{},sockets:{connect:function(){console.log("[WS] Connected"),this.$store.commit("set_connected",!0),this.$cookies.get("jwt")?(console.log("[Auth] JWT is present in cookies"),this.$socket.client.emit("token_authentication",{jwt:this.$cookies.get("jwt")}),this.$store.commit("set_authenticating",!0)):(console.log("[Auth] JWT is NOT present in cookies"),"/login"!==this.$route.path&&this.$router.push("/login"))},unauthorized:function(e){console.log(e),this.$router.push("/login")},authenticated:function(e){console.log("[WS] Authenticated"),"jwt"in e&&(console.log("[Auth] Received a JWT, storing in cookies"),this.$cookies.set("jwt",e.jwt)),this.$store.commit("set_authenticating",!1),this.$socket.client.emit("get_all_devices_from_back_end",{}),"/"!==this.$route.path&&this.$router.push("/")},disconnect:function(){console.log("[WS] disconnected"),this.$store.commit("set_connected",!1)},add_or_update_some_in_front_end:function(e){console.log("[WS] add_or_update_some_in_front_end"),this.$store.commit("add_or_update_some_devices",e)},delete_and_create_all_in_front_end:function(e){console.log("[WS] delete_and_create_all_in_front_end"),this.$store.commit("delete_all_devices",e),this.$store.commit("add_or_update_some_devices",e)},delete_some_in_front_end:function(e){console.log("[WS] delete_some_in_front_end"),this.$store.commit("delete_some_devices",e)}}},p=m,f=Object(d["a"])(p,o,a,!1,null,null,null),v=f.exports,h=n("8c4f"),g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("span",{staticClass:"mdi mdi-pencil new_devices_area_open_button",on:{click:function(t){return e.$store.commit("set_edit_mode",!0)}}}),n("div",{staticClass:"new_device_area_wrapper",class:{open:e.$store.state.edit_mode}},[n("span",{staticClass:"mdi mdi-pencil-off new_devices_area_close_button",on:{click:function(t){return e.$store.commit("set_edit_mode",!1)}}}),n("div",{staticClass:"divider"}),e._l(e.device_types,(function(e){return n("NewDeviceIcon",{attrs:{device_type:e}})})),n("div",{staticClass:"divider"}),n("span",{staticClass:"mdi mdi-image-edit-outline new_devices_area_close_button",on:{click:function(t){e.floorplan_upload_modal_open=!0}}})],2),n("drop",{staticClass:"floorplan_wrapper",on:{drop:e.drop,dragenter:e.dragenter}},[n("img",{staticClass:"floorplan droptarget",attrs:{id:"floorplan",alt:"floorplan",src:"https://shcp.maximemoreillon.com/floorplan"},on:{click:function(t){return e.floorplan_clicked(t)},contextmenu:function(t){return t.preventDefault(),e.$store.commit("set_edit_mode",!0)}}}),e._l(e.$store.state.devices,(function(e,t){return n(e.type,{key:e._id,tag:"component",attrs:{device:e}})})),e._e()],2),n("DisconnectionWarning"),n("Modal",{attrs:{open:e.floorplan_upload_modal_open},on:{close_modal:function(t){e.floorplan_upload_modal_open=!1}}},[n("input",{ref:"floorplan_upload",attrs:{type:"file"}}),n("button",{attrs:{type:"button"},on:{click:function(t){return e.floorplan_upload()}}},[e._v("upload")])])],1)},b=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class,form_fields:e.form_fields},on:{icon_clicked:function(t){return e.toggle()}}})},k=[],$=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"device_wrapper"},[n("DeviceIcon",{attrs:{id:e.device._id,device:e.device,icon_class:e.icon_class},on:{icon_clicked:function(t){return e.icon_clicked()},icon_right_clicked:function(t){return e.icon_right_clicked()}}},[e._v("\n    "+e._s(e.icon_additional_content)+"\n  ")]),n("Modal",{attrs:{open:e.edit_modal_open},on:{close_modal:function(t){return e.close_edit_modal()}}},[n("table",{staticClass:"device_properties_table"},e._l(e.form_fields,(function(t){return n("tr",[n("td",[e._v(e._s(t.label))]),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.device_copy[t.key],expression:"device_copy[form_field.key]"}],attrs:{type:"text"},domProps:{value:e.device_copy[t.key]},on:{input:function(n){n.target.composing||e.$set(e.device_copy,t.key,n.target.value)}}})])])})),0),n("div",{staticClass:"buttons_container"},[n("span",{staticClass:"mdi mdi-content-save",on:{click:function(t){return e.edit_device_in_back_end()}}}),n("span",{staticClass:"mdi mdi-delete",on:{click:function(t){return e.delete_device_in_back_end()}}})])]),e._t("default")],2)},C=[],w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",class:{open:e.open},on:{click:function(t){return t.target!==t.currentTarget?null:e.close_modal(t)}}},[n("div",{staticClass:"modal_window_outer"},[n("div",{staticClass:"modal_window_inner"},[e._t("default")],2)])])},O=[],x={name:"Modal",props:{open:{type:Boolean,default:!1}},methods:{close_modal:function(){this.$emit("close_modal")}}},j=x,S=(n("429e"),Object(d["a"])(j,w,O,!1,null,"15431ffc",null)),N=S.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag",{staticClass:"device_icon_wrapper",style:{left:e.device.position.x+"%",top:e.device.position.y+"%"},attrs:{"transfer-data":e.transfer_data}},[n("div",{staticClass:"device_icon mdi",class:e.icon_class,attrs:{id:e.device._id},on:{click:function(t){return e.$emit("icon_clicked")},contextmenu:function(t){return t.preventDefault(),e.$emit("icon_right_clicked")}}},[e.device_disconnected?n("div",{staticClass:"icon_badge warning_badge mdi mdi-wifi-off"}):e._e(),n("transition",{attrs:{name:"fade"}},[this.$store.state.edit_mode?n("div",{staticClass:"icon_badge edit_badge mdi mdi-pencil"}):e._e()]),n("div",{staticClass:"additional_content"},[e._t("default")],2)],1)])},E=[],M={name:"DeviceIcon",props:{device:{type:Object,required:!0},icon_class:{type:[Array,String],default:"mdi-help"}},methods:{},computed:{device_disconnected:function(){return!(!this.device.state||"{'state':'disconnected'}"!==this.device.state)},transfer_data:function(){return{action:"update",data:this.device}}}},P=M,D=(n("db0a"),Object(d["a"])(P,T,E,!1,null,"37e54c23",null)),W=D.exports,A={name:"Device",mixins:[],components:{Modal:N,DeviceIcon:W},props:{device:{type:Object,required:!0},form_fields:{type:Array,default:function(){return[]}},icon_class:{type:[Array,String],default:"mdi-help"},icon_additional_content:{type:String}},data:function(){return{device_copy:{},edit_modal_open:!1}},methods:{icon_clicked:function(){this.$store.state.edit_mode?(this.device_copy=JSON.parse(JSON.stringify(this.device)),this.open_edit_modal()):this.$emit("icon_clicked")},icon_right_clicked:function(){this.$store.commit("toggle_edit_mode")},open_edit_modal:function(){this.edit_modal_open=!0},close_edit_modal:function(){this.edit_modal_open=!1},get_properties_for_db:function(){var e={};e._id=this.device_copy._id,e.type=this.device_copy.type,e.position=this.device_copy.position;for(var t=0;t<this.form_fields.length;t++)e[this.form_fields[t].key]=this.device_copy[this.form_fields[t].key];return e},edit_device_in_back_end:function(){console.log("[WS] edit_one_device_in_back_end");var e=this.get_properties_for_db(this.device_copy);this.$socket.client.emit("edit_one_device_in_back_end",e),this.close_edit_modal()},delete_device_in_back_end:function(){console.log("[WS] delete_one_device_in_back_end");var e=this.get_properties_for_db(this.device_copy);this.$socket.client.emit("delete_one_device_in_back_end",e),this.close_edit_modal()}}},F=A,J=(n("b408"),Object(d["a"])(F,$,C,!1,null,"1103ff19",null)),I=J.exports,L={components:{Device:I},data:function(){return{}},props:{device:{type:Object,required:!0}}},q={methods:{toggle:function(){var e={};e.command_topic=this.device.command_topic,this.device.state==this.device.payload_on?e.payload=this.device.payload_off:e.payload=this.device.payload_on,console.log("[WS] toggle_device_state"),this.$socket.client.emit("front_to_mqtt",e)}}},Q={name:"Light",mixins:[L,q],data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}},methods:{},computed:{icon_class:function(){var e=["mdi-lightbulb"];return this.device.state&&this.device.payload_on&&this.device.state===this.device.payload_on&&e.push("on"),e}}},H=Q,B=Object(d["a"])(H,y,k,!1,null,"c7192ad8",null),R=B.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class,form_fields:e.form_fields},on:{icon_clicked:e.toggle}})},z=[],X={name:"ac",mixins:[L,q],props:{device:{type:Object,required:!0}},data:function(){return{icon_class:"mdi-air-conditioner",form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}}},Y=X,G=Object(d["a"])(Y,U,z,!1,null,"38734896",null),K=G.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class,form_fields:e.form_fields},on:{icon_clicked:e.toggle}})},Z=[],ee={name:"Heater",mixins:[L,q],props:{device:{type:Object,required:!0}},data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}},computed:{icon_class:function(){var e=["mdi-radiator"];return this.device.state&&this.device.payload_on&&this.device.state===this.device.payload_on&&e.push("on"),e}}},te=ee,ne=Object(d["a"])(te,V,Z,!1,null,"5b8c32b7",null),ie=ne.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class,form_fields:e.form_fields,icon_additional_content:e.icon_additional_content},on:{icon_clicked:function(t){return e.open_modal()}}},[n("Modal",{attrs:{open:e.modal_open},on:{close_modal:function(t){return e.close_modal()}}},[n("div",{staticClass:"sensor_modal_wrapper"},[n("div",{staticClass:"sensor_modal_title"},[e._v("\n        "+e._s(e.device.measurement_name)+"\n      ")]),this.device.json_key&&this.device.state?n("div",{staticClass:"sensor_modal_content"},[e._v("\n        "+e._s(JSON.parse(e.device.state.replace(/'/g,'"'))[e.device.json_key])+" "+e._s(e.device.unit)+"\n      ")]):n("div",{staticClass:"sensor_modal_content"},[e._v("\n        "+e._s(e.device.state)+"\n      ")])])])],1)},ae=[],ce=(n("a481"),{components:{Modal:N},methods:{open_modal:function(){this.modal_open=!0,this.camera_image_url="/camera?_id="+this.device._id},close_modal:function(){this.modal_open=!1,this.camera_image_url="images/devices/cctv.svg"}}}),se={name:"Sensor",mixins:[L,ce],data:function(){return{form_fields:[{key:"measurement_name",label:"Measurement name"},{key:"status_topic",label:"Status topic"},{key:"json_key",label:"JSON key"},{key:"unit",label:"Unit"}],modal_open:!1}},computed:{icon_additional_content:function(){return this.device.json_key&&this.device.state&&JSON.parse(this.device.state.replace(/'/g,'"'))[this.device.json_key]?JSON.parse(this.device.state.replace(/'/g,'"'))[this.device.json_key]+this.device.unit:""},icon_class:function(){return this.device.json_key&&this.device.state&&JSON.parse(this.device.state.replace(/'/g,'"'))[this.device.json_key]?"":"mdi-gauge"}}},le=se,re=(n("b7e2"),Object(d["a"])(le,oe,ae,!1,null,"36227903",null)),de=re.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class,form_fields:e.form_fields},on:{icon_clicked:function(t){return e.open_modal()}}},[n("Modal",{attrs:{open:e.modal_open},on:{close_modal:function(t){return e.close_modal()}}},[n("div",{staticClass:"camera_image_wrapper"},[e.camera_image_url?n("img",{staticClass:"camera_image",attrs:{src:e.camera_image_url}}):n("span",{staticClass:"mdi mdi-cctv"})])])],1)},ue=[],me={name:"Camera",mixins:[ce,L],data:function(){return{form_fields:[{key:"stream_url",label:"Stream URL"}],icon_class:"mdi-cctv",modal_open:!1,camera_image_url:null}},methods:{open_modal:function(){this.modal_open=!0,this.camera_image_url="https://shcp.maximemoreillon.com/camera?_id="+this.device._id+"&jwt="+this.$cookies.get("jwt")},close_modal:function(){this.modal_open=!1,this.camera_image_url=null}}},pe=me,fe=(n("3583"),Object(d["a"])(pe,_e,ue,!1,null,"2d653103",null)),ve=fe.exports,he=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("device",{attrs:{device:e.device,icon_class:e.icon_class}})},ge=[],be={name:"Fan",mixins:[L,q],data:function(){return{form_fields:[{key:"command_topic",label:"Command topic"},{key:"status_topic",label:"Status topic"},{key:"payload_on",label:"Payload ON"},{key:"payload_off",label:"Payload OFF"}]}},computed:{icon_class:function(){var e=["mdi-fan"];return this.device.state&&this.device.payload_on&&this.device.state===this.device.payload_on&&e.push("on"),e}}},ye=be,ke=Object(d["a"])(ye,he,ge,!1,null,"0068028e",null),$e=ke.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("drag",{staticClass:"mdi device_icon",class:"mdi-"+e.device_type.icon,attrs:{"transfer-data":e.transfer_data}})},we=[],Oe={name:"NewDeviceIcon",props:{device_type:Object},methods:{},computed:{transfer_data:function(){return{action:"create",data:this.device_type}}}},xe=Oe,je=(n("d84b"),Object(d["a"])(xe,Ce,we,!1,null,"2a7ad9a2",null)),Se=je.exports,Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enabled?n("div",{staticClass:"disconnection_warning",class:{open:!e.$store.state.connected}},[n("span",{staticClass:"mdi mdi-alert-outline warning_icon"}),n("span",{staticClass:"warning_text"},[e._v("DISCONNECTED")])]):e._e()},Te=[],Ee={name:"DisconnectionWarning",data:function(){return{enabled:!1}},mounted:function(){var e=this;setTimeout((function(){e.enabled=!0}),1e3)},computed:{}},Me=Ee,Pe=(n("0e7e"),Object(d["a"])(Me,Ne,Te,!1,null,"3dca1306",null)),De=Pe.exports,We={name:"home",data:function(){return{device_types:[{label:"MQTT light",component:"Light",icon:"lightbulb"},{label:"IP camera",component:"Camera",icon:"cctv"},{label:"MQTT sensor",component:"Sensor",icon:"gauge"},{label:"MQTT heater",component:"Heater",icon:"radiator"},{label:"MQTT air conditioner",component:"ac",icon:"air-conditioner"},{label:"MQTT fan",component:"Fan",icon:"fan"}],floorplan_upload_modal_open:!1}},components:{Light:R,Camera:ve,Sensor:de,Heater:ie,ac:K,Fan:$e,NewDeviceIcon:Se,DisconnectionWarning:De,Modal:N},mounted:function(){},methods:{floorplan_clicked:function(e){this.$store.state.edit_mode&&this.$store.commit("set_edit_mode",!1)},dragenter:function(){},drop:function(e,t){if("floorplan"===t.target.id){var n={x:100*t.offsetX/t.target.width,y:100*t.offsetY/t.target.height};if("create"===e.action)this.$socket.client.emit("add_one_device_in_back_end",{_id:"new",position:n,type:e.data.component});else if("update"===e.action&&this.$store.state.edit_mode){var i=e.data;i.position=n,this.$socket.client.emit("edit_one_device_in_back_end",i)}}else t.target.id===e.data._id&&this.$store.commit("set_edit_mode",!0)},floorplan_upload:function(){if(this.image=this.$refs.floorplan_upload.files[0],this.image){var e=new FormData;e.append("image",this.image),this.axios.post("https://shcp.maximemoreillon.com/floorplan_upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}))}}},computed:{}},Ae=We,Fe=(n("e2d4"),Object(d["a"])(Ae,g,b,!1,null,"2ac943c6",null)),Je=Fe.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_view"},[e.$store.state.authenticating?n("div",{staticClass:"status_message"},[n("div",{staticClass:"loader"})]):e.$store.state.user?n("form",{staticClass:"login_form",on:{submit:function(t){return t.preventDefault(),e.logout()}}},[n("div",{},[e._v("\n      Logged in as: "+e._s(e.$store.state.user.name_kanji)+"\n    ")]),n("input",{attrs:{type:"submit",value:"logout"}})]):n("form",{staticClass:"login_form",on:{submit:function(t){return t.preventDefault(),e.login()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.username,expression:"credentials.username"}],attrs:{type:"text",placeholder:"username"},domProps:{value:e.credentials.username},on:{input:function(t){t.target.composing||e.$set(e.credentials,"username",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.credentials.password,expression:"credentials.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.credentials.password},on:{input:function(t){t.target.composing||e.$set(e.credentials,"password",t.target.value)}}}),n("input",{attrs:{type:"submit",value:"login"}})])])},Le=[],qe={name:"Login",components:{},data:function(){return{credentials:{username:"",password:""}}},mounted:function(){},methods:{login:function(){console.log("logging in"),this.$socket.client.emit("credentials_authentication",{credentials:{username:this.credentials.username,password:this.credentials.password}})},logout:function(){this.$socket.client.emit("logout",{})}}},Qe=qe,He=(n("410b"),Object(d["a"])(Qe,Ie,Le,!1,null,"f0e60b5e",null)),Be=He.exports;i["a"].use(h["a"]);var Re=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:Je},{path:"/login",name:"login",component:Be}]}),Ue=(n("20d6"),n("ac6a"),n("2f62"));i["a"].use(Ue["a"]);var ze=new Ue["a"].Store({state:{user:null,authenticating:!1,connected:!1,edit_mode:!1,devices_loading:!1,devices:[]},mutations:{set_connected:function(e,t){e.connected=t},set_authenticating:function(e,t){e.authenticating=t},set_edit_mode:function(e,t){e.edit_mode=t},add_or_update_some_devices:function(e,t){t.forEach((function(t){var n=e.devices.findIndex((function(e){return e._id===t._id}));-1!==n?i["a"].set(e.devices,n,t):e.devices.push(t)}))},delete_some_devices:function(e,t){t.forEach((function(t){var n=e.devices.findIndex((function(e){return e._id===t._id}));-1!==n&&e.devices.splice(n,1)}))},delete_all_devices:function(e){e.devices.splice(0,e.devices.length)}},actions:{}}),Xe=n("bc3a"),Ye=n.n(Xe),Ge=n("a7fe"),Ke=n.n(Ge),Ve=n("8055"),Ze=n.n(Ve),et=n("f87c"),tt=n("2b27"),nt=n.n(tt),it=(n("5363"),n("df76")),ot=n.n(it);i["a"].use(ot.a);var at=Ze()("https://shcp.maximemoreillon.com");Ye.a.defaults.withCredentials=!0,Ye.a.defaults.crossDomain=!0,i["a"].use(Ke.a,Ye.a),i["a"].use(et["a"],at),i["a"].use(nt.a),i["a"].config.productionTip=!1,new i["a"]({router:Re,store:ze,render:function(e){return e(v)}}).$mount("#app")},"6b22":function(e,t,n){},"933a":function(e,t,n){},af21:function(e,t,n){},b408:function(e,t,n){"use strict";var i=n("d2d3"),o=n.n(i);o.a},b7e2:function(e,t,n){"use strict";var i=n("5021"),o=n.n(i);o.a},c6b7:function(e,t,n){},d2d3:function(e,t,n){},d84b:function(e,t,n){"use strict";var i=n("933a"),o=n.n(i);o.a},db0a:function(e,t,n){"use strict";var i=n("c6b7"),o=n.n(i);o.a},e2d4:function(e,t,n){"use strict";var i=n("07bf"),o=n.n(i);o.a},ed8d:function(e,t,n){}});
//# sourceMappingURL=app.ed06e95d.js.map